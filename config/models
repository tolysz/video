User
    ident         Text
    name          Text Maybe
    friendly      Text Maybe
    avatar        Text Maybe
    UniqueUser    ident
    deriving Show Typeable Generic

Email
    email         Text
    user          UserId
    UniqueEmail   email
    deriving Show Typeable Generic

SiteAdmin
    user            UserId
    isAdmin         Bool
    UniqueSiteAdmin user
    deriving Show Typeable Generic

OAuthAccess
    owner         UserId
    realm         Text
    identity      Text Maybe
    accessToken   Text Maybe
    expires       UTCTime Maybe
    refreshToken  Text Maybe
    tokenType     Text Maybe
    scope         Texts
    OnePerRealm   owner
    deriving Show Typeable Generic

YTChannel
    status        ViewChan
    ref           Text
    etag          Text
    UniqueYTPChannel ref
    deriving Show Typeable Generic

YTPlaylist 
    ref           Text
    etag          Text
    UniqueYTPlaylist ref
    deriving Show Typeable Generic

YTVideoPlaylist
     playlist     YTPlaylistId
     video        YTVideoId
     UniqueYTVideoPlaylist playlist video
     deriving Show Typeable Generic

YTVideo
    ref           Text
    etag          Text
    UniqueYTVideo ref
    deriving Show Typeable Generic

YTVideoUser
    video         YTVideoId
    user          UserId
    UniqueYTVideoUser video user
--    status        ViewPerm
    deriving Show Typeable Generic

ChannelMember
    owner         Bool
    ref           YTChannelId
    user          UserId
    UniqueChannelMember ref user
    deriving Show Typeable Generic

-- Let start the other end
SiteGroupMember
  group         SiteGroupId
  user          UserId
  fullMember    Bool
  userAdmin     Bool
  videoAdmin    Bool
  UniqueSiteGroupMember group user
  deriving Show Typeable Generic

SiteGroup
  public          Bool
  name            Text
  short           ShortName
  notes           Text Maybe
  url             Text Maybe
  UniqueSiteGroup short
  deriving Show Typeable Generic

VirtualVideo
  raw     YTVideoId
  users   [UserId]
  votes   [Int]
  note    Text
  start   Int
  end     Int
  UniqueVirtualVideo raw start
  deriving Show Typeable Generic

Event
  title   Text
  time    UTCTime
  group   SiteGroupId

PlaylistEvent
  type     PlaylistType
  event    EventId
  playlist YTVideoPlaylistId
