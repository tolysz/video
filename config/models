User
    ident         Text
    name          Text Maybe
    friendly      Text Maybe
    password      Text Maybe
    UniqueUser    ident
    siteAdmin     Bool default=False
    deriving Typeable Show

Email
    email         Text
    user          UserId Maybe
    verkey        Text Maybe
    UniqueEmail   email

OAuthAccess
    owner         UserId
    realm         Text
    identity      Text Maybe
    accessToken   Text Maybe
    expires       UTCTime Maybe
    refreshToken  Text Maybe
    tokenType     Text Maybe
    scope         Texts
    OnePerRealm   owner
    deriving Show Typeable Generic

YTChannel
    status        ViewChan
    ref           Text
    etag          Text
    UniqueYTPChannel ref
    deriving Show Typeable Generic

YTPlaylist 
    ref           Text
    etag          Text
    UniqueYTPlaylist ref
    deriving Show Typeable Generic

YTVideoPlaylist
     playlist     YTPlaylistId
     video        YTVideoId
     UniqueYTVideoPlaylist playlist video
     deriving Show Typeable Generic

YTVideo
    ref           Text
    etag          Text
    UniqueYTVideo ref
    deriving Show Typeable Generic

YTVideoUser
    video         YTVideoId
    user          UserId
    UniqueYTVideoUser video user
--    status        ViewPerm
    deriving Show Typeable Generic

ChannelMember
    owner         Bool
    ref           YTChannelId
    user          UserId
    UniqueChannelMember ref user
    deriving Show Typeable Generic

-- Let start the other end

SiteGroupMember
  user          UserId
  group         SiteGroupId
  fullMember    Bool
  userAdmin     Bool
  videoAdmin    Bool
  
SiteGroup
  public          Bool
  name            Text
  deriving Show Typeable Generic

VirtualVideo
  raw     YTVideoId
  users   [UserId]
  votes   [Int]
  note    Text
  start   Int
  end     Int
  UniqueVirtualVideo raw start
  deriving Show Typeable Generic

Event
  title   Text
  time    UTCTime 
  group   SiteGroupId

PlaylistEvent
  type     PlaylistType
  event    EventId
  playlist YTVideoPlaylistId
